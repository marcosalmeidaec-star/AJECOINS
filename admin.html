<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Admin – AJE Coins</title>
<link rel="stylesheet" href="styles.css"/>
<script type="module" src="admin.js"></script>
</head>

<body>

<header class="topBar">
  <img src="assets/logo.png" class="logo">
  <span>Panel Administrativo – AJE Coins</span>
</header>

<section class="card">
  <h2>Carga de Información</h2>
  <div class="filtros">
    <div style="flex:1;">
      <label><strong>Usuarios (CSV):</strong></label>
      <input type="file" id="fileInput" accept=".csv"/>
      <button id="uploadBtn">Cargar Usuarios</button>
    </div>
    <div style="flex:1;">
      <label><strong>Productos (CSV):</strong></label>
      <input type="file" id="productFileInput" accept=".csv"/>
      <button id="uploadProductBtn">Cargar Productos</button>
    </div>
  </div>
</section>

<section class="card">
  <h2>Gestión de Usuarios (Lista Maestra)</h2>
  <p style="font-size: 12px; color: #666; margin-bottom: 15px;">
    Eliminar a un usuario aquí borrará su acceso y todos sus coins registrados permanentemente.
  </p>
  <div style="overflow-x:auto;">
    <table id="tablaMaestraUsuarios">
      <thead>
        <tr>
          <th>Código Vendedor</th>
          <th>Nombre Completo</th>
          <th>CEDIS</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody id="maestraBody"></tbody>
    </table>
  </div>
</section>

<section class="card">
  <h2>Historial de Cargas de Coins</h2>
  <div class="filtros">
    <input type="date" id="filtroFecha"/>
    <button id="btnFiltrar">Filtrar por Fecha</button>
    <button id="btnVerTodo">Ver Todo</button>
    <button id="btnExportUsers">Exportar CSV</button>
  </div>
  <table id="usersTable">
    <thead>
      <tr>
        <th>Fecha Carga</th>
        <th>Código Vendedor</th>
        <th>Nombre</th>
        <th>Coins Cargados</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<section class="card">
  <h2>Historial de Canjes <button id="btnExport" style="float:right; font-size:12px;">Exportar CSV</button></h2>
  <table id="comprasTable">
    <thead>
      <tr>
        <th>Fecha/Hora</th>
        <th>Código Vendedor</th>
        <th>Nombre</th>
        <th>Productos</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<section class="card">
  <h2>Consulta de Movimientos por Vendedor</h2>
  <div class="filtros">
    <input type="text" id="movCedula" placeholder="Código de Vendedor..."/>
    <button id="btnVerMov">Ver Historial</button>
    <button id="btnVerTodosMov">Ver Todos</button>
    <button id="btnExportMov">Exportar</button>
  </div>
  <table id="movTable">
    <thead>
      <tr>
        <th>Código</th>
        <th>Nombre</th>
        <th>Fecha</th>
        <th>Concepto</th>
        <th>Coins</th>
        <th>Saldo</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

</body>
</html>
